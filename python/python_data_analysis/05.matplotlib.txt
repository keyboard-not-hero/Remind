官网地址：https://matplotlib.org/

pip安装：
pip install -U pip
pip install matplotlib

升级
pip install -U matplotlib

导入库
import matplotlib.pyplot as plt

结构：
pyplot--Figure--Axes
Figure为整体窗口
Axes为主要构图区域

matplotlib通常使用np.array格式数据集作图, pandas格式和np.matrix格式数据尽量转化为np.array数据

matplotlib的后端有macosx/qt4/tkinter/wxpython/pygtk等

指定backend的方式(同时指定时, 后者覆盖前者):
1.matplotlibrc文件中配置, 如:
	backend : qt5agg

2.设置MPLBACKEND环境变量, 如:
	export MPLBACKEND=qt5agg

3.项目文件中指定, 如:
	matplotlib.use('qt5agg')


matplotlibrc文件定位顺序(查找到第一个结束查找):
1.当前工作目录, 只用于当前工作项目

2.当环境变量$MATPLOTLIBRC存在时, 为该变量指定文件; 或该变量为目录时, 为$MATPLOTLIBRC/matplotlibrc

3.根据系统差异有两种:
  Linux/FreeBSD - 路径~/.config/matplotlib/matplotlibrc, 或$XDG_CONFIG_HOME/matplotlib/matplotlibrc
  others - .matplotlib/matplotlibrc

4.假设INSTALL为matplotlib库安装路径, 则为INSTALL/matplotlib/mpl-data/matplotlibrc。假设python安装路径为/usr/local/python3.8, 则INSTALL路径为/usr/local/python3.8/lib/python3.8/site-packages


axes有两种使用方法:
1.pyplot使用默认的figure和axes
2.手动创建figure和axes


例1.
使用默认的figure和axes
import matplotlib.pyplot as plt

plt.plot([1, 2, 3, 4], [1, 4, 2, 3])
plt.show()


例2
手动创建figure和axes
import matplotlib.pyplot as plt

figure, axes = plt.subplots(1, 2)
axes[0].plot([1, 2, 3, 4], [1, 4, 2, 3])
axes[1].plot([1, 2, 3, 4], [3, 2, 4, 1])
plt.show()


matplotlib.pyplot模块
function:
figure(num=None, figsize=None, dpi=None, facecolor=None, edgecolor=None, frameon=True, FigureClass=<class 'matplotlib.figure.Figure'>, clear=False, **kwargs) -> Figure
	在plot上生成一个figure, 或激活已存在的figure. 参数列表如下:
		num - int或str类型, figure的唯一标识符
		figsize - (float, float)格式, figure的宽和高, 单位为英寸. 默认为(6.4, 4.8)
		dpi - float格式, 分辨率每英寸的像素点. 默认为100.0
		facecolor - str格式, 背景颜色. 默认为'white'
		edgecolor - str格式, 边界颜色. 默认为'white'
		frameon - bool格式, 是否描绘边框. 默认为True
		FigureClass - Figure子类对象, 可选Figure实例
		clear - bool格式, 当figure已存在时, 是否清除. 默认为False

plot(*args, scalex=True, scaley=True, data=None, **kwargs)
	在坐标轴上作图. 参数列表如下:
		*args - 可选参数, 有x轴坐标, y轴坐标, 格式化字符串. 前述内容可多次重复, 表示在一个axes上作多个线条
			当只提供一个坐标集合时, 默认为y轴左边, 此时x轴含有相同坐标数, 并且从0起始, 步进为1
			格式化字符串代表点的颜色和style. 如: 'ro'代表红色的圆. 默认为'b-'. style列表:
				-- 虚线
				-. 点断式虚线
				:  点式线
				-  实线
				o  圆
				s  方块
				+  加号
				^  三角形
			style参考列表: https://matplotlib.org/stable/api/markers_api.html
		data - indexable数据, 此时x/y轴坐标使用轴索引获取
		kwargs - 关键字参数, 有label/antialiased/linewidth等
	kwargs参考列表：https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D

show(*, block=None)
	展示所有figure内容. 参数列表如下:
		block - bool格式. 在interactive模式中, block为False, 所有后续内容执行返回; 在non-interactive模式中, block为True, 需要关闭窗口才能执行后续内容并返回

subplot(*args, **kwargs) -> Axes子类
	在当前figure中创建axes
		args列表如下:
			nrows - int格式, 创建多少行axes
			ncols - int格式, 创建多少列axes
			index - int格式, 选取的axes索引. 从左上角开始计数, 数字由1起始
			** 前面三个可以合并为一个三位数的int数字, 如: 235代表(2,3,5)
			label - str格式, axes的标签

subplots(nrows=1, ncols=1, *, sharex=False, sharey=False, squeeze=True, subplot_kw=None, gridspec_kw=None, **fig_kw) -> (Figure, Axes)/(Figure, ndarray)
	创建figure和axes集合. 参数列表如下:
		nrows - int类型, figure中包含axes的行数. 默认为1
		ncols - int类型, figure中包含axes的列数. 默认为1
		sharex - bool类型或{'none', 'all', 'row', 'col'}, 是否分享x轴的属性到其它axes
		sharey - bool类型或{'none', 'all', 'row', 'col'}, 是否分享y轴的属性到其它axes
		squeeze - bool类型, 情况如下:
			为True时, 如果nrows与ncols都为1, 则返回1个Axes对象;
			如果nrows/ncols其中一个为1时, 返回Axes对象的一维数组; 
			如果nrows/ncols都大于1, 返回Axes对象的二维数组
			为False时, 无论如何都返回Axes的二维数组
		kwargs参考figure函数

subplots_adjust(left=None, bottom=None, right=None, top=None, wspace=None, hspace=None)
	调整axes的布局. 参数列表如下:
		left - float格式, 左边位置位于figure的百分比处
		bottom - float格式, 底部位置位于figure的百分比处. 方向从下到上
		right - float格式, 右边位置位于figure的百分比处
		top - float格式, 顶部位置位于figure的百分比处. 方向从下到上
		wsapce - float格式, axes之间的水平距离/axes宽度
		hspace - float格式, axes之间的垂直距离/axes高度


matplotlib.figure.Figure类
method:
add_subplot(*args, **kwargs)
	添加axes到figure. 参数列表如下
		args列表如下:
			nrows - int格式, 创建多少行axes
			ncols - int格式, 创建多少列axes
			index - int格式, 选取的axes索引. 从左上角开始计数, 数字由1起始
			** 前面三个可以合并为一个三位数的int数字, 如: 235代表(2,3,5)	
			polar - bool格式, 是否使用极坐标
			sharex - bool类型或{'none', 'all', 'row', 'col'}, 是否分享x轴的属性到其它axes
			sharey - bool类型或{'none', 'all', 'row', 'col'}, 是否分享y轴的属性到其它axes
			label - str格式, axes的标签

savefig(*args, **kwargs)
	保存figure到文件.
		args列表如下:
			fname - str或path-like或file-like, 所保存到的文件
			dpi - float格式, 每英寸的像素. 默认为'figure'
			facecolor - color或'auto', 内容的颜色. 默认为'auto', 即采用当前figure的颜色
			edgecolor - color或'auto', 边缘的颜色. 默认为'auto'
			orientation - str格式, 只被postscript backend支持. 可选列表: 'landscape'/'portrait'. 默认为'portrait'
			papertype - str格式, 只被postscript backend支持. 可选列表: 'letter'/'legal'/'executive'/'ledger'/'a0'-'a10'/'b0'-'b10'
			format - str格式, 指定文件保存的格式. 只有当fname没有指定后缀时生效. 如: 'png'/'pdf'
			transparent - bool格式, axes背景是否透明; figure未指定facecolor和edgecolor时才能被影响. 默认为False
			backend - str格式, 使用指定类型backend来渲染文件

suptitle(t, **kwargs)
	在figure中间位置添加标题. 参数列表如下:
		t - str格式, 标题内容
		kwargs列表如下:
			x - float格式, 标题位于figure的x轴百分比位置. 默认为0.5
			y - float格式, 标题位于figure的y轴百分比位置, 方向从下到上. 默认为0.98
			fontsize - float格式或str格式, 文字大小. str可选列表: 'xx-small'/'x-small'/'small'/'medium'/'large'/'x-large'/'xx-large'. 默认为'large'
			fontweight - int格式或str格式, 文字的weight. int范围[0, 1000]. str可选列表: 'ultralight'/'light'/'normal'/'regular'/'book'/'medium'/'roman'/'semibold'/'demibold'/'demi'/'bold'/'heavy'/'extra bold'/'black'
			

matplotlib.axes.Axes类
method:
annotate(text, xy, *args, **kwargs)
	在指定坐标处添加注解内容. 参数列表如下:
		text - str格式, 注解内容
		xy - (float, float)格式, 注解的位置
		args列表如下:
			xytext - (float, float)格式, 放置注解文本的位置. 注解箭头由xytext到xy
			xycoords - str格式或Artist对象或Transform对象或callable或(float, float). 代表xy使用的坐标系统类型. 默认为'data'. str可选列表如下:
				'figure points' - 从figure的左下角为起始点
				'figure pixels' - 从figure的左下角为起始像素
				'figure fraction' - 从figure的左下角为百分比起始位置
				'axes points' - 从axes的左下角为起始点
				'axes pixels' - 从axes的左下角为起始像素
				'axes fraction' - 从axes的左下角为百分比起始位置
				'data' - 使用当前被注解对象的坐标系统
				'polar' - 使用极坐标作为坐标系统
			textcoords - str格式或Artist对象或Transform对象或callable或(float, float). 代表xytext使用的坐标系统类型. 默认与xycoords一致. str可选列表如下:
				'figure points' - 从figure的左下角为起始点
				'figure pixels' - 从figure的左下角为起始像素
				'figure fraction' - 从figure的左下角为百分比起始位置
				'axes points' - 从axes的左下角为起始点
				'axes pixels' - 从axes的左下角为起始像素
				'axes fraction' - 从axes的左下角为百分比起始位置
				'data' - 使用当前被注解对象的坐标系统
				'polar' - 使用极坐标作为坐标系统
			arrowprops - dict格式, 注解箭头属性. key列表如下:
				width - float格式, 注解线条宽度
				headwidth - float格式, 箭头宽度
				headlength - float格式, 箭头长度
				shrink - float格式, 线条两端收缩长度占线条总长度百分比
				arrowstyle - str格式, 当指定箭头类型时, 指定上述key会抛出AttributeError异常. 列表:
					'-'   - 无箭头的线条
					'->'  - 结束位置包含箭头的线条
					'<-'  - 起始位置包含箭头的线条
					'<->' - 起始和结束位置都包含箭头的线条
					'-['  - 特殊格式线条
					'|-|' - 起始和结束位置包含横截线的线条
					'-|>' - 实心箭头
				facecolor - str格式, 指定线条颜色. 使用颜色的完整单词
			annotation_clip - bool类型, 当xy坐标在axes区域外的操作. 默认为True
				True - 只有xy在axes区域内, 才添加注解
				Flase - 无论如何, 都会添加注解

axis(*args, emit=True, **kwargs) -> (xmin, xmax, ymin, ymax)
	配置坐标轴属性. 参数列表如下:
		args - [xmin, xmax, ymin, ymax]集合, 配置x/y轴取值范围 

grid(b=None, which='major', axis='both', **kwargs)
	设置栅栏线. 参数列表如下:
		b - bool格式, 是否显示栅栏
		which - str格式, 将栅栏应用于刻度线的种类. 列表如下: 'major'/'minor'/'both'
		axis - str格式, 应用的坐标轴. 列表如下: 'x'/'y'/'both'
		kwargs列表:
			color - str格式, 栅栏颜色
			linestyle - str格式, 栅栏风格
			linewidth - int格式, 线条宽度
			具体参考: https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.grid.html#matplotlib.axes.Axes.grid

imshow(X, cmap=None, norm=None, aspect=None, interpolation=None, alpha=None, vmin=None, vmax=None, origin=None, extent=None, *, filternorm=True, filterrad=4.0, resample=None, url=None, data=None, **kwargs) -> AxesImage
	将X内容转化为图片. 参数列表如下:
		X - array-like或PIL Image, array-like shapes可以为以下内容:
			(M,N) - 使用colormap将[0,1]区间内的数字转化为RGB颜色的数值
			(M,N,3) - RGB模式, 0-1的float或0-255的int
			(M,N,4) - RGBA模式, 0-1的float或0-255的int
		cmap - str或Colormap类型, 指定转化的颜色. 不适用于RGB模式
		norm - Normalize对象, 将二维数组内的值按[min, max]转化为[0,1]的值. 不适用于RGB模式
		aspect - str格式, 屏幕宽高比. 可选列表: 'equal'/'auto'. 'equal'表示根据图片进行调整, 'auto'表示强制使用axes大小. 默认为'equal'
		interpolation - str格式, 颜色渐变类型. 可选列表: 'none'/'antialiased'/'nearest'/'bilinear'/'bicubic'等
		alpha - float或array-like, 图像透明度, 当其为array-like时, 必须与X拥有一致的shapes
		vmin - float格式, 指定转化的最小数字(小于该数字按相等处理), 将其转化为[0,1]的代表颜色深度的数字. 指定norm参数时无效
		vmax - float格式, 指定转化的最大数字(大于该数字按相等处理), 将其转化为[0,1]的代表颜色深度的数字. 指定norm参数时无效
		origin - str格式, 将array的[0,0]坐标视为左上角或左下角. 可选列表: 'upper'/'lower'. 默认为'upper', 矩阵/image常规作法

pie(x, explode=None, labels=None, colors=None, autopct=None, pctdistance=0.6, shadow=False, labeldistance=1.1, startangle=0, radius=1, counterclock=True, wedgeprops=None, textprops=None, center=(0, 0), frame=False, rotatelabels=False, *, normalize=None, data=None)
	作饼图. 参数列表如下:
		x - 1D array-like, item/sum为其所占份额
		explode - array-like, 元素为占比=偏离圆心距离/radius
		labels - list类型, 元素为标签字符串
		colors - array-like, 每一个分块的颜色
		autopct - str或callable, 可用于标记分块所占百分比
		pctdistance - float格式, pct位于从圆心向边缘扩散的百分比位置. 默认为0.6
		shadow - bool格式, 分块是否有阴影部分
		labeldistance - float格式, label位于从圆心向边缘扩散的百分比位置. 默认为1.1
		startangle - float格式, 饼图起始旋转角度, 从x轴逆时针旋转
		radius - float格式, 饼图的半径
		counterclock - bool格式, 指定饼图是否沿逆时针作图
		wedgeprops - dict格式, 通过键值对设置一些参数. 如: {'linewidth' : 3}
		textprops - dict格式, 设置文字参数
		center - (float, float)格式, 设置饼图的中心位置坐标
		frame - bool格式, 是否作axes边框
		rotatelabels - bool格式, 每个label是否跟随分块角度旋转

plot(*args, scalex=True, scaley=True, data=None, **kwargs)
	在坐标轴上作图. 参数列表如下:
		*args - 可选参数, 有x轴坐标, y轴坐标, 格式化字符串. 前述内容可多次重复, 表示在一个axes上作多个线条
			当只提供一个坐标集合时, 默认为y轴左边, 此时x轴含有相同坐标数, 并且从0起始, 步进为1
			格式化字符串代表点的颜色和style. 如: 'ro'代表红色的圆. 默认为'b-'. style列表:
				-- 虚线
				-. 点断式虚线
				:  点式线
				-  实线
				o  圆
				s  方块
				+  加号
				^  三角形
			style参考列表: https://matplotlib.org/stable/api/markers_api.html
		data - indexable数据, 此时x/y轴坐标使用轴索引获取
		kwargs - 关键字参数, 有label/antialiased/linewidth等
		kwargs参考列表：https://matplotlib.org/api/_as_gen/matplotlib.lines.Line2D.html#matplotlib.lines.Line2D

scatter(x, y, s=None, c=None, marker=None, cmap=None, norm=None, vmin=None, vmax=None, alpha=None, linewidths=None, verts=<deprecated parameter>, edgecolors=None, *, plotnonfinite=False, data=None, **kwargs)
	作散点图. 参数列表如下:
		x - float或者array-like, x轴坐标
		y - float或者array-like, y轴坐标
		s - float或者array-like, 散点的大小, s=r^2
		c - array-like或str sequence或str, 当为array-like时, 使用cmap和norm来映射到颜色; 当为str sequence时, 分别指定每个散点的颜色, str为color name; str指定所有散点的颜色
		marker - str格式, 散点的形状. 默认为'o'
		cmap - str格式或Colormap对象, 指定颜色. 默认为'viridis'
		norm - Normalize对象, 将数字转化为[0,1]区间的数字
		vmin/vmax - float格式, 转化允许的最小/最大数字. 被norm覆盖
		alpha - float格式, 散点透明度
		linewidths - float或array-like, 指定散点的边缘宽度
		edgecolors - str或color或color sequence, 指定边缘颜色, str可选'face'和'none', 分别代表与中心颜色相同与无边缘颜色; color指定所有散点边缘颜色; color sequence分别指定散点边缘颜色

set_title(label, fontdict=None, loc=None, pad=None, *, y=None, **kwargs)
	给axes设置title. 参数列表如下:
		label - str格式, 标题内容
		fontdict - dict格式, 设置标题属性. key列表: 'fontsize'/'fontweight'/'color'/'verticalalignment'/'horizontalalignment'
		loc - str格式, 标题位于axes的位置. 可选列表: 'left'/'center'/'right'. 默认为'center'
		pad - float格式, 标题偏离axes顶部的距离. 默认为6.0
		y - float格式, 标题居于axes的百分比位置, 从下往上方向

set_xlabel(xlabel, fontdict=None, labelpad=None, *, loc=None, **kwargs)
	设置x轴的标签. 参数列表如下:
		xlabel - str格式, 标签的内容
		loc - str格式, label相对于坐标轴的位置. 列表: 'left'/'center'/'right'. 默认为'center'

set_ylabel(ylabel, fontdict=None, labelpad=None, *, loc=None, **kwargs)
	设置y轴的标签

text(x, y, s, fontdict=None, **kwargs)
	在axes中添加文本内容. 参数列表如下:
		x - float格式, 文本位于axes的x坐标
		y - float格式, 文本位于axes的y坐标
		s - str格式, 文本内容
		fontdict - dict格式, 设置文本属性. key列表: 'fontsize'/'fontweight'/'color'/'verticalalignment'/'horizontalalignment'
		
** matplotlib的字符串接受TeX语法


额外工具
axisartist

导入库
import mpl_toolkits.axisartist as AA

原理：matplotlib的两个axis不可用, AA使用ax.axis['left']格式来使用指定坐标轴, 坐标轴格式有left/right/top/bottom

示例
import matplotlib.pyplot as plt
import numpy as np
import mpl_toolkits.axisartist as AA
# 创建axes
fig=plt.figure()
ax=AA.Subplot(fig,111)
fig.add_subplot(ax)

# 使轴边界不可见
ax.axis[:].set_visible(False)

# 添加x轴, 第一个0代表水平直线, 第二个0代表y=0
ax.axis["x"]=ax.new_floating_axis(0,0)
# 配置x轴箭头
ax.axis["x"].set_axisline_style("->", size=1.5)
# 添加y轴, 第一个1代表垂直直线, 第二个0代表x=0
ax.axis["y"]=ax.new_floating_axis(1,0)
ax.axis["y"].set_axisline_style("->", size=1.5)
# 显示刻度位置
ax.axis["x"].set_axis_direction("bottom")
ax.axis["y"].set_axis_direction("left")

# 作立方图
x=np.linspace(-5,5,1000)
plt.plot(x,x**3)
plt.xlim(-10,10)
plt.ylim(-130,130)
plt.show()

