STP(Spanning Tree Protocol)<br>
通过阻塞接口, 阻止在物理冗余链路中形成环回链路
<br>
<br>

STP工作步骤<br>
1.从所有交换机中选择网桥ID最小的, 作为root switch, 该交换机所有接口为designated port, 处于转发状态<br>
** 网桥ID为8 bytes, 前2 bytes为优先级, 可手动设置为4096的倍数N, 结果为N+vlan_num, N默认设置为32768; 后6 bytes为mac地址

2.从每一个非root switch中, 选取该交换机与root switch含最少链路成本的路径, 其对应的接口为root port, root port为转发状态<br>
** 链路成本由每紧邻交换机之间的链路带宽决定. 列表如下:<br>
|链路速度    |链路成本    |
|------------|------------|
|10 Mbit/s   |100         |
|100 Mbit/s  |19          |
|1000 Mbit/s |4           |
|10000 Mbit/s|2           |

<br>

3.其他接口, 如果与root port位于同一链路, 设置为designated port; 如果有一条链路两端都没有设置接口类型, 则网桥ID最小一端的接口设置为designated port; 之后, 全部接口设置为alternative port



# show spanning-tree summary

# show spanning-tree root

# show spanning-tree bridge id

(config)# spanning-tree vlan <vlan> priority <priority>
优先级必须配置为4096的倍数
