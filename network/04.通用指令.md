![image not found](pic/mode_switch.jpg)

```
一、从console/vty进入EXEC mode



二、从EXEC mode进入Privileged mode
> enable

实例1 - 查看运行配置文件
# show running-config

实例2 - 查看启动配置文件
# show startup-config

实例3 - 将运行配置文件拷贝到启动配置文件
# copy running-config startup-config

实例4 - 将启动配置文件拷贝到运行配置文件
# copy startup-config running-config

实例5 - 删除启动配置文件
# erase startup-config
or
# erase nvram:
or  
# write erase

实例6 - 重启设备
# reload

实例7 - 取匹配正则表达式的行
# show running-config | include <regular-expression>

实例8 - 筛除符合匹配正则表达式的行
# show running-config | exclude <regular-expression>

实例9 - 取第一个匹配正则表达式的行, 以及该行之后的行
# show running-config | begin <regular-expression>



三、从Privileged mode进入global configure mode
# configure terminal

实例1 - 主机名配置
(config)# hostname steven

实例2 - banner配置
1)exec banner
在用户exec模式之前显示消息
(config)# banner exec <beg_delimiter> <prompt_message> <end_delimiter>

2)login banner
给需要登录的终端显示消息
(config)# banner login <beg_delimiter> <prompt_message> <end_delimiter>

3)motd(message of the day) banner
给通过telnet/AUX/console连接的人显示消息
(config)# banner motd <beg_delimiter> <prompt_message> <end_delimiter>

实例3 - 启动/关闭console logging(vty不会有logging输出)
(config)# [no] logging console

实例4 - 是否使用domain-lookup特性(输入错误指令时, 将错误指令视为域名, 使用telnet连接)
(config)# [no] ip domain-lookup

实例5 - enable密码配置
(config)# enable secret <passwd>

** 补充: 在全局配置(接口配置等)模式下使用show指令
(config)# do show ...



四、从global configure模式进入其他子配置模式
** 备注: 使用end或ctrl+z可以从子配置模式直接退出到privileged模式
1.进入line console配置模式
(config)# line console 0

实例1 - 设置history大小
(config)# line console 0
(config-line)# history size <num>

显示history列表
# show history

实例2 - logging消息是否同步(同步不覆盖输入)
(config-line)# [no] logging synchronous

实例3 - 设置console超时断连时间
(config-line)# exec-timeout <mins> <secs>

关闭断连时间限制
(config-line)# exec-timeout 0

2.进入line vty配置模式
(config)# line vty 0 15

实例1 - 设置history大小
(config)# line vty 0 15
(config-line)# history size <num>

显示history列表
# show history

实例2 - 设置vty超时断连时间
(config-line)# exec-timeout <mins> <secs>

关闭断连时间限制
(config-line)# exec-timeout 0


3.进入interface配置模式
(config)# interface f0/1

实例1 - description配置
(config-if)# description <description>

实例2 - 启用/关闭接口
(config-if)# [no] shutdown

实例3 - 网络速度
(config-if)# speed {auto | 10 | 100 | 1000}

实例4 - 配置双工
(config-if)# duplex {auto | full | half}


4.进入vlan配置模式
(config)# vlan 1




配置console与telnet/SSH登录
实例1 - console登录密码
1)所有用户共享密码
(config)# line console <num>
(config-line)# password <passwd>
(config-line)# login

2)本地用户名/密码登录
(config)# username <user> secret <passwd>
(config)# line console 0
(config-line)# login local



实例2 - telnet登录密码
1)所有用户共享密码
(config)# line vty <num_1> <num_2>
(config-line)# password <passwd>
(config-line)# transport input telnet
(config-line)# login

2)本地用户名/密码登录
(config)# username <user> secret <passwd>
(config)# line vty <num_1> <num_2>
(config-line)# transport input telnet
(config-line)# login local


实例2 - SSH登录密码
(config)# hostname <host_name>
(config)# ip domain-name <domain_name>
(config)# crypto key generate rsa
(config)# username <user> secret <passwd>
(config)# ip ssh version 2
(config)# line vty <num_1> <num_2>
(config-line)# transport input ssh
(config-line)# login local

客户端ssh登录
# ssh -l <user> <server_add>

查看当前ssh服务器端信息
# show ip ssh

查看连接到当前服务器端的客户端的信息
# show ssh
