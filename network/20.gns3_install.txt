组件:
1.client
GNS3 all-in-one, 其中的client提供GUI给使用者

2.server
1)本地GNS3服务器(Linux系统推荐)
使用与all-in-one相同的本地计算机, 并且使用当前系统, 其中的server提供环境, 对路由器/交换机等进行环境模拟

2)本地GNS3 Virtual Machine(Windows/Mac系统推荐)
使用与all-in-one相同的本地计算机, 并且安装虚拟机操作系统镜像(利用VMware Workstation/Virtualbox/Hyper-V), 对路由器/交换机等环境进行模拟

3)远程GNS3 Virtual Machine
使用远程计算机, 并且安装虚拟机操作系统镜像(利用VMware ESXi或cloud), 对路由器/交换机等环境进行模拟

** 建议使用VM方式, 可以获得更完整的路由器/交换机特征模拟


Cisco拓扑类型:
1.物理设备
最完美真实环境, 但费用高昂

2.官方模拟环境
VIRL(Virtual Internet Routing Lab), Cisco官方提供方式, 获得完整支持, 但需要交年费使用

3.Cisco Packet Tracer
提供简单环境模拟, 但支持不完善

4.GNS3
提供如下镜像方式:
1)Dynamips
使用真实IOS镜像文件, 模拟1700/2600/3600/3700/7200路由器, 1700/2600不建议
镜像可以从本地IOS设备复制或网上下载, 文件后缀为image

2)IOU(IOS on Unix)

3)virtualbox/vmware vm
使用虚拟机的操作系统与Router/Switch/ASA连接
** Windows手动配置IP
控制面板 -- 网络和Internet -- 网络和共享中心 -- 更改适配器设置 -- 右键单击以太网卡 -- 选择'属性' -- 选择'Internet协议版本4(TCP/IPv4)' -- 属性 -- 手动配置IP地址/子网掩码/网关
** GNU/Linux手动配置IP
sudo ifconfig eth0 192.168.1.10 netmask 255.255.255.0 up
sudo route add default gw 192.168.1.1


Ubuntu 20.04下安装GNS3
1.添加PPA源
sudo add-apt-repository ppa:gns3/ppa
sudo apt update                                

2.安装gns3
sudo apt install gns3-gui gns3-server

3.IOU安装
1)下载CiscoIOUKengen.py
curl --socks5 127.0.0.1:1080 -O https://raw.githubusercontent.com/obscur95/gns3-server/master/IOU/CiscoIOUKeygen.py

2)生成license
python3 CiscoIOUKengen.py

3)将生成内容记录在iourc.txt
[license]
<host_name> = xxxxxxxx;

4)上传iourc.txt和L2/L3 IOU
上传iourc.txt:
GNS3  -->  Edit  -->  Preferences  -->  IOS on UNIX  -->  Browse
上传L2/L3 IOU
GNS3  -->  Edit  -->  Preferences  -->  IOU Devices  -->  New


Windows 10下安装GNS3
1.下载GNS3
下载地址: https://www.gns3.com/software/download

2.安装GNS3

3.下载VirtualBox系统镜像
下载地址: https://www.gns3.com/software/download-vm

4.下载VirtualBox并安装
下载地址: https://download.virtualbox.org/virtualbox/7.0.12/VirtualBox-7.0.12-159484-Win.exe

5.将VirtualBox系统镜像导入VirtualBox
file  -->  import appliance  -->  选择VirtualBox系统镜像

6.GNS3上编辑使用系统镜像
Edit  -->  Preferences  -->  GNS3 VM  -->  Enable the gns3 vm, 配置其他选项, 点击'apply', 然后点击'OK'
** 显示eth0未配置时, 需重启计算机

7.IOU安装
1)下载CiscoIOUKengen.py
下载地址: https://raw.githubusercontent.com/obscur95/gns3-server/master/IOU/CiscoIOUKeygen.py

2)将CiscoIOUKengen.py上传到vm
scp CiscoIOUKeygen.py gns3@<gns3_vm_ip>:~
passwd: gns3

3)在虚拟机生成license
python3 CiscoIOUKengen.py

4)将生成内容记录在本地iourc.txt
[license]
gns3vm = xxxxxxxx;

5)上传iourc.txt和L2/L3 IOU
上传iourc.txt:
GNS3  -->  Edit  -->  Preferences  -->  IOS on UNIX  -->  Browse
上传L2/L3 IOU
GNS3  -->  Edit  -->  Preferences  -->  IOU Devices  -->  New


Ubuntu下, IOU问题集锦:
1.not executable
sudo chmod 700 xxx.bin

2.libcrypto.so.4 cannot be found
steven@steven-IRH8:/tmp$ find / -name '*libcrypto*' 2>/dev/null
/usr/lib/i386-linux-gnu/libcrypto.so.3
/usr/lib/x86_64-linux-gnu/libcrypto.so.3
steven@steven-IRH8:/tmp$ sudo ln -s /usr/lib/i386-linux-gnu/libcrypto.so.3 /usr/lib/i386-linux-gnu/libcrypto.so.4


VPCS命令汇总
设置IPv4/IPv6地址
ip 192.168.1.250 255.255.255.0 192.168.1.1
ip 192.168.1.250 /24 192.168.1.1
ip 2001:db8::1 /64

通过DHCP获得IPv4地址
ip dhcp

通过SLAAC获取IPv6地址
ip auto

ping网络连通
ping 192.168.1.100 -c 5



最后编辑于: 2024-01-04
