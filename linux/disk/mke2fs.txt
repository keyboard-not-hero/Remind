mke2fs - 创建一个ext2/ext3/ext4文件系统

语法
mke2fs [option] device

参数释义
-b <block_size>
	指定block的大小, 单位为bytes
	可指定列表: 1024/2048/4096

-c
	在建立文件系统之间, 对分区进行只读操作, 检测坏轨
	指定两次该参数, 对分区进行读写操作

-C <cluster_size>
	当使用ext4的bigalloc特征时, 指定cluster包含的block数量, cluster有效大小范围: 2K~256M
	默认值为16*block大小

-D
	将结果直接写入磁盘, 该操作会减缓操作速度

-E <extended_options>
	设置特性相关的值. 可选列表:
		mmp_update_interval=<interval> - MMP(multiply mount protection)的间隔时间

-f <fragment-size>
	指定fragment大小, 单位为bytes

-F
	强制创建一个文件系统
	当已有文件系统在使用中或被挂载, 需连续指定两次

-g <blocks_per_group>
	指定block group中的block数量
	该参数常用于开发者的测试用例

-G <number_of_groups>
	将指定个block groups合并为一个大的group
	该参数必须为2的幂

-i <bytes_per_inode>
	文件系统中bytes/inodes的比例
	强烈建议大于block大小值, 否则inode数量大于block数量, 会有许多inode过剩

-I <inode_size>
	inode的大小, 单位为bytes
	大小为2的幂, 并且大于等于128. 建议128/256 bytes

-j
	创建文件系统时使用ext3的日志功能

-J <journal_options>
	ext3日志功能的额外参数. 参数列表如下:
		size=<journal_size> - 日志空间大小, 单位为MiB. 该大小至少为1024个block, 并且不超过10,240,000个block或者filesystem的一半
		device=<external_journal> - 使用外部设备作为日志存储. 该外部设备需满足条件:
			(1)使用以下特性: mke2fs -O journal_dev <device>
			(2)外部设备的block大小需与当前文件系统的block大小一致

-l <filename>
	从文件重读取坏轨列表
	坏轨列表由badblocks program生成, badblocks的block大小需与当前文件系统一致

-L <new_volume_label>
	指定文件系统的label

-m <reserved_blocks_percentage>
	在文件系统中保留指定百分比blocks给予super-user
	默认为5%

-M <last_mounted_directory>
	指定当前文件系统上次挂载的目录

-n
	测试格式化文件系统后的结果, 并不实际执行

-N <number_of_inodes>
	指定文件系统分配的inodes数量
	覆盖-i与block数量得出的值

-O <feature>[,...]
	给文件系统配置指定特性, 不同特性使用','分隔
	关闭特性使用'^'或'-'前缀
	none关闭所有特性
	默认为/etc/mke2fs.conf中的base_feature

-q
	quiet模式

-r <revision>
	设置文件系统版本
	默认revesion为1

-S
	写入superblock和相关描述内容

-t <fs_type>
	指定文件系统类型. 如: ext2/ext3/ext4/xfs等

-T <usage_type>[,...]
	指定文件系统的方案用例, 详细参考配置文件. 列表如下:
		floppy - fs小于等于3M时的默认方案
		small - fs小于等于512M时的默认方案
		big - fs大于等于4T并小于16T的默认方案
		huge - fs大于等于16T的默认方案
		default - 其他情况下的默认方案

-u <uuid>
	文件系统的UUID

-v
	verbose模式

-V
	版本信息



相关配置文件:
/etc/mke2fs.conf
